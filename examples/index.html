<!DOCTYPE html>
<html>
  <head>
    <title>Hello world</title>
    <script src="../node_modules/babel-polyfill/dist/polyfill.js"></script>
    <script src="../node_modules/webcomponents.js/webcomponents.js"></script>
    <script src="./build/mixpanel-common.js"></script>
    <style type="text/css">
      body {
        margin: 0;
        margin-top: 50px;
      }
      .button-box {
        background: white;
        border: 1px solid #9cacbb;
        border-radius: 4px;
        display: inline-block;
        margin: 40px;
        padding: 20px 40px;
      }
    </style>
  </head>
  <body>
    <mp-button class="mp-button-primary" onclick="openModal();">Show modal</mp-button>
    <mp-button class="mp-button-secondary" onclick="openPopup();">Show popup</mp-button>
    <mp-button class="mp-button-primary mp-button-red" onclick="openAlertModal();">Show alert modal</mp-button>
    <mp-button class="mp-button-primary mp-button-purple" onclick="openPurpleModal();">Show purple modal</mp-button>
    <mp-button class="mp-button-primary mp-button-blue" onclick="alert('clicked');">Confirm</mp-button>
    <mp-button class="mp-button-primary mp-button-red" onclick="alert('clicked');" disabled>Delete</mp-button>
    <mp-button class="mp-button-primary mp-button-blue">
      Mouse over me!
      <mp-tooltip>This is my tooltip</mp-tooltip>
    </mp-button>
    <mp-modal id="modal" closeable closed>
      <div class="mp-modal-title" slot-body>Easily track events</div>
      <div class="mp-modal-subtitle" slot-body>Click on any element on your page (ex. the buy button) to create an event and access all historical data for that event.</div>
      <mp-button class="mp-button-modal" onclick="closeModal();" slot-button arrow-next>Create your first event</mp-button>
    </mp-modal>
    <mp-modal id="popup" width="500px" modal-type="popup" closeable closed>
      <div class="mp-modal-title" slot-body>Easily track events</div>
      <div class="mp-modal-subtitle" slot-body>Click on any element on your page (ex. the buy button) to create an event and access all historical data for that event.</div>
      <mp-button class="mp-button-modal" onclick="closePopup();" slot-button>Create your first event</mp-button>
    </mp-modal>
    <mp-modal id="alert-modal" modal-type="popup" closeable alert closed>
      <div slot-body>
        <div class="mp-modal-alert-title">Your event failed to save</div>
        <div class="mp-modal-alert-subtitle">If your issue persists please contact our support team at support@mixpanel.com to get help quickly</div>
      </div>
    </mp-modal>
    <mp-modal id="purple-modal" width="500px" closeable closed>
      <div class="mp-modal-title" slot-body>I'm a modal with a purple button</div>
      <div class="mp-modal-subtitle" slot-body>We use this for upsell dialogs</div>
      <mp-button class="mp-button-modal mp-button-purple" onclick="closePurpleModal();" slot-button arrow-next>Upgrade</mp-button>
    </mp-modal>

    <input type="text" placeholder="I'm a placeholder" />

    <div class="button-box">
      <mp-button class="mp-button-primary" disabled>primary</mp-button>
      <mp-button class="mp-button-primary">primary</mp-button>
      <mp-button class="mp-button-secondary">secondary</mp-button>
    </div>

    <div class="button-box" style="background: #6cb8ff;">
      <mp-button class="mp-button-primary mp-button-on-blue">primary</mp-button>
      <mp-button class="mp-button-secondary mp-button-on-blue">secondary</mp-button>
    </div>

    <script type="application/javascript">
      var modal = document.getElementById('modal');
      modal.addEventListener('change', function(e) {
        if (e.detail.state === 'closed') {
            modal.setAttribute('closed', true);
        }
      });

      var popup = document.getElementById('popup');
      popup.addEventListener('change', function(e) {
          if (e.detail.state === 'closed') {
              popup.setAttribute('closed', true);
          }
      });

      var alertModal = document.getElementById('alert-modal');
      alertModal.addEventListener('change', function(e) {
          if (e.detail.state === 'closed') {
              alertModal.setAttribute('closed', true);
          }
      });

      var purpleModal = document.getElementById('purple-modal');
      purpleModal.addEventListener('change', function(e) {
          if (e.detail.state === 'closed') {
              purpleModal.setAttribute('closed', true);
          }
      });

      var openPurpleModal = function() {
        purpleModal.removeAttribute('closed');
        purpleModal.open();
      };

      var closePurpleModal = function() {
        purpleModal.close();
      };

      var openModal = function() {
        modal.removeAttribute('closed');
        modal.open();
      };

      var closeModal = function() {
        modal.close().then(function() {
          console.log('modal closed!');
        });
      }

      var openPopup = function() {
        popup.removeAttribute('closed');
        popup.open();
      };

      var closePopup = function() {
        popup.close();
      };

      var openAlertModal = function() {
        alertModal.removeAttribute('closed');
        alertModal.open();
      };

      var closeAlertModal = function() {
        alertModal.close();
      };

   </script>
  </body>
</html>
